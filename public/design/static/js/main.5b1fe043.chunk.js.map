{"version":3,"sources":["components/Table/index.jsx","App.jsx","index.js"],"names":["DragHandle","sortableHandle","MenuOutlined","style","cursor","color","columns","title","dataIndex","width","className","render","data","key","name","age","address","index","SortableItem","sortableElement","props","SortableContainer","sortableContainer","SortableTable","state","dataSource","onSortEnd","oldIndex","newIndex","newData","arrayMove","concat","filter","el","console","log","setState","DraggableContainer","useDragHandle","disableAutoscroll","helperClass","DraggableBodyRow","restProps","findIndex","x","this","pagination","rowKey","components","body","wrapper","row","React","Component","App","ReactDOM","document","getElementById"],"mappings":"sVAWMA,EAAaC,aAAe,kBAChC,cAACC,EAAA,EAAD,CAAcC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,aAG1CC,EAAU,CACd,CACEC,MAAO,OACPC,UAAW,OACXC,MAAO,GACPC,UAAW,eACXC,OAAQ,kBAAM,cAACX,EAAD,MAEhB,CACEO,MAAO,OACPC,UAAW,OACXE,UAAW,gBAEb,CACEH,MAAO,MACPC,UAAW,OAEb,CACED,MAAO,UACPC,UAAW,YAITI,EAAO,CACX,CACEC,IAAK,IACLC,KAAM,aACNC,IAAK,GACLC,QAAS,2BACTC,MAAO,GAET,CACEJ,IAAK,IACLC,KAAM,YACNC,IAAK,GACLC,QAAS,yBACTC,MAAO,GAET,CACEJ,IAAK,IACLC,KAAM,YACNC,IAAK,GACLC,QAAS,yBACTC,MAAO,IAILC,EAAeC,aAAgB,SAACC,GAAD,OAAW,kCAAQA,OAClDC,EAAoBC,aAAkB,SAACF,GAAD,OAAW,qCAAWA,OAE7CG,E,4MACnBC,MAAQ,CACNC,WAAYb,G,EAGdc,UAAY,YAA6B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACfH,EAAe,EAAKD,MAApBC,WACR,GAAIE,IAAaC,EAAU,CACzB,IAAMC,EAAUC,IACd,GAAGC,OAAON,GACVE,EACAC,GACAI,QAAO,SAACC,GAAD,QAAUA,KACnBC,QAAQC,IAAI,iBAAkBN,GAC9B,EAAKO,SAAS,CAAEX,WAAYI,M,EAIhCQ,mBAAqB,SAACjB,GAAD,OACnB,cAACC,EAAD,aACEiB,eAAa,EACbC,mBAAiB,EACjBC,YAAY,eACZd,UAAW,EAAKA,WACZN,K,EAIRqB,iBAAmB,YAAwC,EAArC/B,UAAqC,EAA1BP,MAA2B,IAAjBuC,EAAgB,qCAGnDzB,EAFiB,EAAKO,MAApBC,WAEiBkB,WACvB,SAACC,GAAD,OAAOA,EAAE3B,QAAUyB,EAAU,mBAE/B,OAAO,cAACxB,EAAD,aAAcD,MAAOA,GAAWyB,K,4CAGzC,WAAU,IACAjB,EAAeoB,KAAKrB,MAApBC,WAER,OACE,qBAAKf,UAAU,kBAAf,SACE,cAAC,IAAD,CACEoC,YAAY,EACZrB,WAAYA,EACZnB,QAASA,EACTyC,OAAO,QACPC,WAAY,CACVC,KAAM,CACJC,QAASL,KAAKR,mBACdc,IAAKN,KAAKJ,2B,GAlDmBW,IAAMC,WC7D5BC,E,kDACnB,aAAe,wC,0CAGf,WACE,OAAQ,qBAAK5C,UAAU,YAAf,SACN,cAAC,EAAD,U,GAN2B0C,IAAMC,WCEvCE,IAAS5C,OACP,cAAC,EAAD,IACA6C,SAASC,eAAe,W","file":"static/js/main.5b1fe043.chunk.js","sourcesContent":["import { Table } from \"antd\";\r\nimport React from \"react\";\r\nimport {\r\n  sortableContainer,\r\n  sortableElement,\r\n  sortableHandle,\r\n} from \"react-sortable-hoc\";\r\nimport { MenuOutlined } from \"@ant-design/icons\";\r\nimport arrayMove from \"array-move\";\r\nimport \"./index.css\";\r\n\r\nconst DragHandle = sortableHandle(() => (\r\n  <MenuOutlined style={{ cursor: \"grab\", color: \"#999\" }} />\r\n));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Sort\",\r\n    dataIndex: \"sort\",\r\n    width: 30,\r\n    className: \"drag-visible\",\r\n    render: () => <DragHandle />,\r\n  },\r\n  {\r\n    title: \"Name\",\r\n    dataIndex: \"name\",\r\n    className: \"drag-visible\",\r\n  },\r\n  {\r\n    title: \"Age\",\r\n    dataIndex: \"age\",\r\n  },\r\n  {\r\n    title: \"Address\",\r\n    dataIndex: \"address\",\r\n  },\r\n];\r\n\r\nconst data = [\r\n  {\r\n    key: \"1\",\r\n    name: \"John Brown\",\r\n    age: 32,\r\n    address: \"New York No. 1 Lake Park\",\r\n    index: 0,\r\n  },\r\n  {\r\n    key: \"2\",\r\n    name: \"Jim Green\",\r\n    age: 42,\r\n    address: \"London No. 1 Lake Park\",\r\n    index: 1,\r\n  },\r\n  {\r\n    key: \"3\",\r\n    name: \"Joe Black\",\r\n    age: 32,\r\n    address: \"Sidney No. 1 Lake Park\",\r\n    index: 2,\r\n  },\r\n];\r\n\r\nconst SortableItem = sortableElement((props) => <tr {...props} />);\r\nconst SortableContainer = sortableContainer((props) => <tbody {...props} />);\r\n\r\nexport default class SortableTable extends React.Component {\r\n  state = {\r\n    dataSource: data,\r\n  };\r\n\r\n  onSortEnd = ({ oldIndex, newIndex }) => {\r\n    const { dataSource } = this.state;\r\n    if (oldIndex !== newIndex) {\r\n      const newData = arrayMove(\r\n        [].concat(dataSource),\r\n        oldIndex,\r\n        newIndex\r\n      ).filter((el) => !!el);\r\n      console.log(\"Sorted items: \", newData);\r\n      this.setState({ dataSource: newData });\r\n    }\r\n  };\r\n\r\n  DraggableContainer = (props) => (\r\n    <SortableContainer\r\n      useDragHandle\r\n      disableAutoscroll\r\n      helperClass=\"row-dragging\"\r\n      onSortEnd={this.onSortEnd}\r\n      {...props}\r\n    />\r\n  );\r\n\r\n  DraggableBodyRow = ({ className, style, ...restProps }) => {\r\n    const { dataSource } = this.state;\r\n    // function findIndex base on Table rowKey props and should always be a right array index\r\n    const index = dataSource.findIndex(\r\n      (x) => x.index === restProps[\"data-row-key\"]\r\n    );\r\n    return <SortableItem index={index} {...restProps} />;\r\n  };\r\n\r\n  render() {\r\n    const { dataSource } = this.state;\r\n\r\n    return (\r\n      <div className=\"table-container\">\r\n        <Table\r\n          pagination={false}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          rowKey=\"index\"\r\n          components={{\r\n            body: {\r\n              wrapper: this.DraggableContainer,\r\n              row: this.DraggableBodyRow,\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./App.css\";\r\nimport React from \"react\";\r\nimport SortableTable from \"./components/Table/index\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n  render() {\r\n    return (<div className=\"container\">\r\n      <SortableTable></SortableTable>\r\n    </div>);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}